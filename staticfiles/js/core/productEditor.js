/* empty css                        */import{a as g}from"./vendor-common.B4uieipM.js";import{Modal as h}from"./vendor-bootstrap.FSX3skFY.js";class f{constructor(){this.cropper=null,this.cropperConfig={aspectRatio:1,viewMode:2,minContainerWidth:300,minContainerHeight:300,minCropBoxWidth:200,minCropBoxHeight:200,responsive:!0,autoCropArea:.8}}initImageCropper(){const r=document.getElementById("id_image"),t=document.getElementById("image-preview"),o=document.getElementById("no-image"),d=document.getElementById("cropperModal"),c=document.getElementById("image-to-crop"),a=document.getElementById("crop-btn"),s=document.getElementById("cropped-image-data"),n=document.getElementById("remove-image-btn"),i=document.getElementById("product-form");if(!r||!t){console.error("Product editor: Critical elements not found");return}const m=new h(d);r.addEventListener("change",e=>{const p=e.target.files[0];if(!p)return;const l=new FileReader;l.onload=u=>{c.src=u.target.result,m.show(),d.addEventListener("shown.bs.modal",()=>{this.cropper&&this.cropper.destroy(),this.cropper=new g(c,this.cropperConfig)},{once:!0})},l.readAsDataURL(p)}),a&&a.addEventListener("click",()=>{if(!this.cropper)return;const e=this.cropper.getCroppedCanvas({minWidth:256,minHeight:256,maxWidth:1e3,maxHeight:1e3}).toDataURL();t.src=e,t.classList.remove("d-none"),o&&(o.style.display="none"),s&&(s.value=e),m.hide(),this.cropper.destroy(),this.cropper=null}),n&&n.addEventListener("click",()=>{r.value="",t.src="",t.classList.add("d-none"),o&&(o.style.display="block");const e=document.createElement("input");e.type="hidden",e.name="remove_image",e.value="true",i.appendChild(e),n.style.display="none"}),i&&i.addEventListener("submit",e=>{console.log("Product form submitted")})}}const v=new f;window.ProductEditor=v;
