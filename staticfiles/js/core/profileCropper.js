import{$ as t}from"./vendor-common.B4uieipM.js";import"./vendor-bootstrap.FSX3skFY.js";import{I as e}from"./imageCropper.js";console.log("Profile Cropper module loading...");console.log("DOM readyState at load time:",document.readyState);window.ImageCropper||(typeof e<"u"?(window.ImageCropper=e,console.log("ImageCropper added to global scope from direct import")):typeof Cropper<"u"?console.log("ImageCropper not available, but Cropper is available"):console.error("Neither ImageCropper nor Cropper is available globally"));const r={initialized:!1,init:function(){if(this.initialized){console.log("ProfileCropper already initialized, skipping");return}console.log("ProfileCropper.init() called"),console.log("Looking for file input with ID: #id_profile_image");const o=document.querySelector("#id_profile_image");console.log("File input found:",o?"Yes":"No"),o?(console.log("File input ID:",o.id),console.log("File input type:",o.type)):console.log("Available file inputs:",Array.from(document.querySelectorAll('input[type="file"]')).map(i=>i.id||"no-id")),setTimeout(()=>{if(window.ImageCropper&&typeof window.ImageCropper.init=="function")console.log("Found global ImageCropper, initializing with it"),window.ImageCropper.init({fileInputSelector:"#profile-image-file",modalSelector:"#cropperModal",cropperImageSelector:"#cropper-image",cropButtonSelector:"#crop-image-button",previewSelector:"#preview-image",previewContainerSelector:"#preview-container",croppedDataInputSelector:"#cropped-image-data",cropperOptions:{aspectRatio:1,viewMode:1,autoCropArea:.9,responsive:!0,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1}});else if(typeof e<"u"&&typeof e.init=="function")console.log("Using directly imported ImageCropper"),e.init({fileInputSelector:"#id_profile_image",modalSelector:"#cropperModal",cropperImageSelector:"#cropper-image",cropButtonSelector:"#crop-image-button",previewSelector:"#preview-image",previewContainerSelector:"#preview-container",croppedDataInputSelector:"#cropped-image-data",cropperOptions:{aspectRatio:1,viewMode:1,autoCropArea:.9,responsive:!0,restore:!1,guides:!0,center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1}});else{console.error("ImageCropper not available globally or as import"),console.log("Window ImageCropper:",window.ImageCropper),console.log("Imported ImageCropper:",e);const i=document.querySelector("#crop-image-button");i&&(console.log("Found crop button, setting up minimal implementation"),i.addEventListener("click",function(){console.log("Crop button clicked - minimal implementation")}))}},100),this.initialized=!0,console.log("ProfileCropper initialization complete")},cleanUp:function(){window.ImageCropper&&typeof window.ImageCropper.cleanUp=="function"&&window.ImageCropper.cleanUp(),this.initialized=!1}};window.ProfileCropper=r;console.log("ProfileCropper explicitly exposed globally");document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded in profile_cropper.js - initializing"),console.log("DOM readyState at DOMContentLoaded:",document.readyState),r.init()});t(document).ready(function(){console.log("jQuery ready in profile_cropper.js - initializing"),r.init()});(document.readyState==="complete"||document.readyState==="interactive")&&(console.log("Document already loaded at script end - initializing immediately"),setTimeout(function(){r.init()},100));
