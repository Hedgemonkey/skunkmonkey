{# products/staff/product_form_partial.html #}
{% load crispy_forms_tags %}
<form 
    method="post" 
    id="product-form" 
    enctype="multipart/form-data" 
    data-product-add-url="{% url 'products:product_add' %}"
    action="{% url 'products:product_add' %}">
    {% csrf_token %}
    {{ form|crispy }}
    
    <div class="mb-3">
        <label for="image-input" class="form-label">Product Image</label>
        <input type="file" id="image-input" name="image" accept="image/*" class="form-control">
    </div>
    
    <div id="image-container" class="mb-3" style="max-width: 100%; max-height: 400px; overflow: hidden;">
        <!-- Image preview will be inserted here -->
    </div>
    
    <button type="button" id="crop-button" class="btn btn-primary mb-3">Crop Image</button>
    <img id="cropped-image" class="img-fluid" style="display: none;" alt="Cropped Image Preview">
    
    <button type="submit" class="btn btn-success">Save Product</button>
</form>
